"0","# convert transits to a spatial linestring object"
"0","gaps_sf <- gap_events_long %>%"
"0","  st_as_sf(coords = c('lon', 'lat'), crs = 4326) %>% "
"0","  group_by(gap_id) %>% "
"0","  summarise(do_union = FALSE) %>% "
"0","  st_cast('LINESTRING')"
"0",""
"0","# use sf::st_intersects to return TRUE/FALSE for each transit that crossed the EEZ"
"0","gaps_sf$crosses_eez <- st_intersects(gaps_sf, eez_tdc, sparse = FALSE) %>% as.logical()"
"2","although coordinates are longitude/latitude, st_intersects assumes that they are planar
"
"0","# merge this information to the gap_events_long dataframe using gap_id"
"0","gap_events_long <- merge("
"0","  x = gap_events_long,"
"0","  y = gaps_sf %>% st_drop_geometry(),"
"0","  by = ""gap_id"","
"0","  all.x = TRUE"
"0",")"
